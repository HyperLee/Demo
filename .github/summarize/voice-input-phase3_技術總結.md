# èªéŸ³è¨˜å¸³ç³»çµ± Phase 3: æ™ºèƒ½åŒ–å¢å¼·æŠ€è¡“ç¸½çµ

## å°ˆæ¡ˆæ¦‚è¿°

æœ¬æ–‡ä»¶ç¸½çµ Demo å°ˆæ¡ˆä¸­èªéŸ³è¨˜å¸³ç³»çµ± Phase 3 æ™ºèƒ½åŒ–å¢å¼·åŠŸèƒ½çš„å®Œæ•´å¯¦ä½œï¼ŒåŒ…å«å€‹äººåŒ–å­¸ç¿’ã€ä¸Šä¸‹æ–‡ç†è§£ã€å°è©±å¼èªéŸ³è¼¸å…¥ç­‰å…ˆé€²åŠŸèƒ½ã€‚

---

## ğŸ“‹ å¯¦ä½œå®Œæˆæ¸…å–®

### âœ… æ ¸å¿ƒåŠŸèƒ½å¯¦ä½œ
- [x] **ç”¨æˆ¶åå¥½å­¸ç¿’å¼•æ“** - å€‹äººåŒ–é—œéµå­—å­¸ç¿’å’Œåˆ†é¡åå¥½è¨˜æ†¶
- [x] **èªéŸ³ä¸Šä¸‹æ–‡åˆ†æå™¨** - å¤šè¼ªå°è©±æ”¯æ´å’Œæ„åœ–è­˜åˆ¥
- [x] **å°è©±å¼èªéŸ³è¼¸å…¥** - æ™ºèƒ½å›æ‡‰å’Œå»ºè­°å‹•ä½œ
- [x] **å€‹äººåŒ–å»ºè­°ç³»çµ±** - åŸºæ–¼ä½¿ç”¨ç¿’æ…£çš„æ™ºèƒ½å»ºè­°
- [x] **å­¸ç¿’è³‡æ–™æŒä¹…åŒ–** - JSON æª”æ¡ˆå„²å­˜ç”¨æˆ¶åå¥½å’Œå­¸ç¿’è¨˜éŒ„

### âœ… æŠ€è¡“æ¶æ§‹å¯¦ä½œ
- [x] **å¾Œç«¯ API å¢å¼·** - æ–°å¢ Phase 3 æ™ºèƒ½è§£æç«¯é»
- [x] **å‰ç«¯ JavaScript æ“´å±•** - ConversationalVoiceInput é¡åˆ¥
- [x] **è³‡æ–™æ¨¡å‹è¨­è¨ˆ** - å®Œæ•´çš„ Phase 3 æ¨¡å‹æ¶æ§‹
- [x] **æœå‹™å±¤æ•´åˆ** - ä¾è³´æ³¨å…¥å’Œæœå‹™è¨»å†Š

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å¾Œç«¯æ¶æ§‹

#### æ ¸å¿ƒæœå‹™é¡åˆ¥

1. **UserPreferenceLearningEngine**
   ```csharp
   // ç”¨æˆ¶åå¥½å­¸ç¿’å¼•æ“ - æ™ºèƒ½å­¸ç¿’æ ¸å¿ƒ
   - GetUserPreferencesAsync(): ç²å–ç”¨æˆ¶èªéŸ³åå¥½
   - SaveUserPreferencesAsync(): ä¿å­˜ç”¨æˆ¶åå¥½è¨­å®š
   - LearnFromUserCorrectionAsync(): å¾ç”¨æˆ¶ä¿®æ­£ä¸­å­¸ç¿’
   - LearnVoicePatternAsync(): å­¸ç¿’èªéŸ³è¼¸å…¥æ¨¡å¼
   - GetPersonalizedSuggestionsAsync(): ç²å–å€‹äººåŒ–å»ºè­°
   ```

2. **VoiceContextAnalyzer**
   ```csharp
   // èªéŸ³ä¸Šä¸‹æ–‡åˆ†æå™¨ - å°è©±ç†è§£æ ¸å¿ƒ
   - AnalyzeContextAsync(): åˆ†æèªéŸ³è¼¸å…¥ä¸Šä¸‹æ–‡
   - IdentifyIntent(): è­˜åˆ¥è¼¸å…¥æ„åœ– (NewRecord/Correction/Clarification)
   - AnalyzeConversationState(): åˆ†æå°è©±ç‹€æ…‹
   - GenerateConversationalSuggestions(): ç”Ÿæˆå°è©±å»ºè­°
   ```

#### å¢å¼·æ¨¡å‹æ¶æ§‹

1. **ç”¨æˆ¶åå¥½æ¨¡å‹**
   ```csharp
   public class UserVoicePreferences
   {
       - PersonalKeywords: å€‹äººåŒ–é—œéµå­—å­—å…¸
       - FrequentCategories: å¸¸ç”¨åˆ†é¡æ˜ å°„
       - FrequentMerchants: å¸¸ç”¨å•†å®¶è­˜åˆ¥
       - VoiceBehaviorPattern: èªéŸ³è¡Œç‚ºæ¨¡å¼
       - LearningStatistics: å­¸ç¿’çµ±è¨ˆè³‡æ–™
   }
   ```

2. **ä¸Šä¸‹æ–‡åˆ†ææ¨¡å‹**
   ```csharp
   public class VoiceContext
   {
       - SessionId: å°è©±æœƒè©±ID
       - PreviousResult: å…ˆå‰è§£æçµæœ
       - Intent: è¼¸å…¥æ„åœ–
       - FieldsToCorrect: éœ€è¦ä¿®æ­£çš„æ¬„ä½
   }
   ```

3. **æ™ºèƒ½å»ºè­°æ¨¡å‹**
   ```csharp
   public class ParseSuggestion
   {
       - FieldName: æ¬„ä½åç¨±
       - SuggestedValue: å»ºè­°å€¼
       - Confidence: ä¿¡å¿ƒåº¦
       - Reason: å»ºè­°åŸå› 
       - Type: å»ºè­°é¡å‹ (PersonalizedLearning/ContextualAnalysis/PatternMatching)
   }
   ```

### å‰ç«¯æ¶æ§‹

#### ConversationalVoiceInput é¡åˆ¥

```javascript
class ConversationalVoiceInput extends VoiceInput {
    // Phase 3 æ–°å¢å±¬æ€§
    - userId: ç”¨æˆ¶ID
    - sessionId: æœƒè©±ID  
    - conversationHistory: å°è©±æ­·å²
    - personalizedSuggestions: å€‹äººåŒ–å»ºè­°
    - learningEnabled: å­¸ç¿’åŠŸèƒ½é–‹é—œ
    
    // æ ¸å¿ƒæ–¹æ³•
    - initPhase3Features(): åˆå§‹åŒ–æ™ºèƒ½åŠŸèƒ½
    - setupConversationalUI(): è¨­å®šå°è©±å¼UI
    - handleConversationalResponse(): è™•ç†å°è©±å¼å›æ‡‰
    - showPersonalizedSuggestions(): é¡¯ç¤ºå€‹äººåŒ–å»ºè­°
    - applySuggestion(): æ¡ç”¨å»ºè­°ä¸¦å­¸ç¿’
}
```

#### æ–°å¢ UI çµ„ä»¶

1. **æ™ºèƒ½å°è©±åŠ©æ‰‹**
   ```html
   <div class="conversation-history">
       <!-- å°è©±è¨˜éŒ„é¡¯ç¤º -->
       <div class="conversation-messages"></div>
       <!-- å»ºè­°å‹•ä½œæŒ‰éˆ• -->
       <div class="suggested-actions"></div>
   </div>
   ```

2. **å€‹äººåŒ–å»ºè­°å¡ç‰‡**
   ```html
   <div class="personalized-suggestions">
       <!-- å»ºè­°å…§å®¹å€åŸŸ -->
       <div class="suggestions-content">
           <!-- å‹•æ…‹ç”Ÿæˆå»ºè­°é …ç›® -->
       </div>
   </div>
   ```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è©³è§£

### 1. å€‹äººåŒ–å­¸ç¿’æ©Ÿåˆ¶

#### é—œéµå­—å­¸ç¿’
- **è‡ªå‹•å­¸ç¿’**: å¾ç”¨æˆ¶ä¿®æ­£è¡Œç‚ºä¸­è‡ªå‹•å­¸ç¿’å€‹äººåŒ–é—œéµå­—
- **åŒç¾©è©æ”¯æ´**: æ”¯æ´é—œéµå­—åˆ¥åå’ŒåŒç¾©è©æ˜ å°„
- **ä½¿ç”¨çµ±è¨ˆ**: è¿½è¹¤é—œéµå­—ä½¿ç”¨é »ç‡å’Œæœ€å¾Œä½¿ç”¨æ™‚é–“
- **ä¿¡å¿ƒåº¦èª¿æ•´**: æ ¹æ“šä½¿ç”¨æƒ…æ³å‹•æ…‹èª¿æ•´é—œéµå­—ä¿¡å¿ƒåº¦

#### åˆ†é¡åå¥½å­¸ç¿’
- **è§¸ç™¼è©å­¸ç¿’**: å­¸ç¿’ç‰¹å®šè©å½™èˆ‡åˆ†é¡çš„é—œè¯
- **ä½¿ç”¨é »ç‡çµ±è¨ˆ**: è¨˜éŒ„ç”¨æˆ¶å¸¸ç”¨åˆ†é¡å’Œä½¿ç”¨æ¨¡å¼
- **åå¥½å­åˆ†é¡**: è¨˜æ†¶ç”¨æˆ¶åœ¨ç‰¹å®šåˆ†é¡ä¸‹çš„åå¥½å­åˆ†é¡

#### å•†å®¶è­˜åˆ¥å­¸ç¿’
- **åˆ¥åæ“´å±•**: å­¸ç¿’å•†å®¶çš„å„ç¨®ç¨±å‘¼æ–¹å¼
- **æ¶ˆè²»æ¨¡å¼**: è¨˜éŒ„åœ¨ç‰¹å®šå•†å®¶çš„å¹³å‡æ¶ˆè²»é‡‘é¡
- **ä»˜æ¬¾åå¥½**: å­¸ç¿’ç”¨æˆ¶åœ¨ä¸åŒå•†å®¶çš„ä»˜æ¬¾æ–¹å¼åå¥½

### 2. ä¸Šä¸‹æ–‡ç†è§£æ©Ÿåˆ¶

#### æ„åœ–è­˜åˆ¥
```csharp
// æ”¯æ´çš„æ„åœ–é¡å‹
- NewRecord: æ–°å¢è¨˜éŒ„
- Correction: ä¿®æ­£è³‡æ–™  
- Clarification: æ¾„æ¸…å•é¡Œ
- Confirmation: ç¢ºèªè³‡è¨Š
```

#### å°è©±ç‹€æ…‹ç®¡ç†
```csharp
// å°è©±ç‹€æ…‹é¡å‹
- Initial: åˆå§‹ç‹€æ…‹
- Fresh: å…¨æ–°å°è©±
- Continuing: å»¶çºŒå°è©±
- Correcting: ä¿®æ­£ä¸­
```

#### å¤šè¼ªå°è©±æ”¯æ´
- **æœƒè©±ç®¡ç†**: ç¶­è­·å°è©±æœƒè©±IDå’Œä¸Šä¸‹æ–‡
- **ç‹€æ…‹è¿½è¹¤**: è¿½è¹¤å°è©±é€²åº¦å’Œå¾…è™•ç†é …ç›®
- **æ™ºèƒ½å›æ‡‰**: æ ¹æ“šä¸Šä¸‹æ–‡ç”Ÿæˆé©ç•¶çš„å›æ‡‰å’Œå»ºè­°

### 3. å°è©±å¼èªéŸ³è¼¸å…¥

#### æ™ºèƒ½å›æ‡‰ç”Ÿæˆ
- **å•é¡Œç”Ÿæˆ**: æ ¹æ“šç¼ºå¤±è³‡è¨Šç”Ÿæˆå¼•å°æ€§å•é¡Œ
- **å»ºè­°å‹•ä½œ**: æä¾›ç”¨æˆ¶å¯é¸çš„ä¸‹ä¸€æ­¥å‹•ä½œ
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: åŸºæ–¼ç•¶å‰ç‹€æ…‹ç”Ÿæˆç›¸é—œå»ºè­°

#### å»ºè­°å‹•ä½œè™•ç†
```javascript
// æ”¯æ´çš„å»ºè­°å‹•ä½œ
- "é–‹å§‹èªéŸ³è¼¸å…¥": å•Ÿå‹•èªéŸ³è­˜åˆ¥
- "é‡æ–°èªªä¸€æ¬¡": é‡æ–°é€²è¡ŒèªéŸ³è¼¸å…¥
- "æ‰‹å‹•è¼¸å…¥": åˆ‡æ›åˆ°æ‰‹å‹•æ¨¡å¼  
- "æŸ¥çœ‹å»ºè­°": é¡¯ç¤ºå€‹äººåŒ–å»ºè­°
```

### 4. æ™ºèƒ½å»ºè­°ç³»çµ±

#### å»ºè­°é¡å‹

1. **å€‹äººåŒ–å­¸ç¿’å»ºè­°** (`PersonalizedLearning`)
   - åŸºæ–¼ç”¨æˆ¶æ­·å²è¡Œç‚ºæ¨¡å¼
   - å€‹äººåŒ–é—œéµå­—åŒ¹é…
   - å¸¸ç”¨åˆ†é¡å’Œå•†å®¶æ¨è–¦

2. **ä¸Šä¸‹æ–‡åˆ†æå»ºè­°** (`ContextualAnalysis`)  
   - åŸºæ–¼ç•¶å‰å°è©±ä¸Šä¸‹æ–‡
   - æ™‚é–“ã€åœ°é»ç­‰ç’°å¢ƒå› ç´ 
   - ç›¸é—œè¨˜éŒ„é—œè¯åˆ†æ

3. **æ¨¡å¼åŒ¹é…å»ºè­°** (`PatternMatching`)
   - åŸºæ–¼èªéŸ³æ–‡å­—æ¨¡å¼åŒ¹é…
   - å¸¸è¦‹è¡¨é”æ–¹å¼è­˜åˆ¥
   - çµæ§‹åŒ–è³‡æ–™æå–

4. **æ™ºèƒ½ä¿®æ­£å»ºè­°** (`SmartCorrection`)
   - åŸºæ–¼éŒ¯èª¤æ¨¡å¼åˆ†æ
   - å¸¸è¦‹ä¿®æ­£å»ºè­°
   - æº–ç¢ºåº¦æ”¹å–„å»ºè­°

#### ä¿¡å¿ƒåº¦è¨ˆç®—
```csharp
// ä¿¡å¿ƒåº¦è©•ä¼°å› å­
- é—œéµå­—åŒ¹é…ç¨‹åº¦ (40%)
- ä½¿ç”¨é »ç‡çµ±è¨ˆ (30%) 
- ä¸Šä¸‹æ–‡ç›¸é—œæ€§ (20%)
- æ™‚é–“æ¨¡å¼åŒ¹é… (10%)
```

---

## ğŸ“Š è³‡æ–™æŒä¹…åŒ–

### ç”¨æˆ¶åå¥½è³‡æ–™çµæ§‹

```json
{
  "userId": {
    "personalKeywords": {
      "é—œéµå­—ID": {
        "keyword": "é—œéµå­—",
        "mappedValue": "æ˜ å°„å€¼", 
        "category": "æ¬„ä½é¡å‹",
        "confidence": 0.8,
        "usageCount": 5,
        "lastUsed": "2025-01-23T...",
        "synonyms": ["åŒç¾©è©1", "åŒç¾©è©2"]
      }
    },
    "frequentCategories": {
      "åˆ†é¡åç¨±": {
        "categoryName": "åˆ†é¡åç¨±",
        "triggerWords": ["è§¸ç™¼è©1", "è§¸ç™¼è©2"],
        "confidence": 0.9,
        "usageCount": 10,
        "lastUsed": "2025-01-23T...",
        "preferredSubCategory": "åå¥½å­åˆ†é¡"
      }
    },
    "frequentMerchants": {
      "å•†å®¶åç¨±": {
        "merchantName": "å•†å®¶åç¨±",
        "aliases": ["åˆ¥å1", "åˆ¥å2"],
        "preferredCategory": "åå¥½åˆ†é¡",
        "preferredPaymentMethod": "åå¥½ä»˜æ¬¾æ–¹å¼",
        "averageAmount": 150.0,
        "visitCount": 8,
        "lastVisit": "2025-01-23T..."
      }
    },
    "voiceBehaviorPattern": {
      "commonPhrases": ["å¸¸ç”¨çŸ­èª1", "å¸¸ç”¨çŸ­èª2"],
      "preferredOrder": "Amount-First",
      "timeExpressions": {
        "ä»Šå¤©": "today",
        "æ˜¨å¤©": "yesterday"
      },
      "inputStats": {
        "totalInputs": 50,
        "successfulParses": 45,
        "averageConfidence": 0.85,
        "hourlyUsage": {"9": 5, "12": 8, "18": 12},
        "categoryUsage": {"é£²é£Ÿ": 20, "äº¤é€š": 15}
      }
    },
    "statistics": {
      "totalLearningEvents": 25,
      "lastLearningEvent": "2025-01-23T...",
      "accuracyImprovement": 0.15,
      "fieldImprovements": {
        "Amount": 5,
        "Category": 8,
        "PaymentMethod": 3
      },
      "recentLearningEvents": [
        {
          "timestamp": "2025-01-23T...",
          "eventType": "UserCorrection",
          "fieldName": "Category",
          "originalValue": "å…¶ä»–æ”¯å‡º",
          "correctedValue": "é£²é£Ÿ",
          "confidenceImpact": 0.1
        }
      ]
    }
  }
}
```

---

## ğŸ”€ API ç«¯é»

### Phase 3 æ–°å¢ç«¯é»

1. **èªéŸ³è§£æå¢å¼·** (æ›´æ–°ç¾æœ‰)
   ```http
   POST /index8?handler=ParseVoiceInput
   Content-Type: application/json
   
   {
     "voiceText": "èªéŸ³æ–‡å­—",
     "context": "personal",
     "confidence": 1.0,
     "userId": 1,
     "voiceContext": {
       "sessionId": "session_xxx",
       "previousResult": {...},
       "intent": "NewRecord",
       "fieldsToCorrect": []
     }
   }
   ```

2. **å­¸ç¿’ä¿®æ­£è¨˜éŒ„** (æ–°å¢)
   ```http
   POST /index8?handler=LearnFromCorrection
   Content-Type: application/json
   
   {
     "userId": 1,
     "fieldName": "Category", 
     "originalValue": "å…¶ä»–æ”¯å‡º",
     "correctedValue": "é£²é£Ÿ",
     "context": "user_correction"
   }
   ```

3. **å€‹äººåŒ–å»ºè­°** (æ–°å¢)
   ```http
   GET /index8?handler=PersonalizedSuggestions&userId=1&voiceText=èªéŸ³æ–‡å­—
   ```

### å›æ‡‰æ ¼å¼å¢å¼·

```json
{
  "isSuccess": true,
  "parseResult": {
    "amount": 150,
    "category": "é£²é£Ÿ", 
    "suggestions": [
      {
        "fieldName": "PaymentMethod",
        "suggestedValue": "ä¿¡ç”¨å¡",
        "confidence": 0.9,
        "reason": "åŸºæ–¼æ‚¨åœ¨æ˜Ÿå·´å…‹çš„æ¶ˆè²»ç¿’æ…£",
        "type": "PersonalizedLearning"
      }
    ],
    "learningInfo": {
      "hasLearningOpportunity": true,
      "learnablePatterns": ["æ˜Ÿå·´å…‹", "å’–å•¡"],
      "suggestedKeywords": {
        "merchant": "æ˜Ÿå·´å…‹"
      },
      "learningImpact": 0.1
    }
  },
  "parseState": "Completed",
  "conversationalResponse": {
    "question": "æˆ‘ä¾†å¹«æ‚¨è¨˜éŒ„é€™ç­†å¸³å‹™ï¼Œè«‹èªªå‡ºé‡‘é¡å’Œæ¶ˆè²»å…§å®¹ã€‚",
    "suggestedAnswers": ["é–‹å§‹èªéŸ³è¼¸å…¥", "æ‰‹å‹•è¼¸å…¥"],
    "responseType": "Question",
    "sessionId": "session_xxx"
  }
}
```

---

## ğŸ¯ ä½¿ç”¨æµç¨‹

### å…¸å‹æ™ºèƒ½å°è©±æµç¨‹

1. **åˆå§‹èªéŸ³è¼¸å…¥**
   ```
   ç”¨æˆ¶: "æ˜¨å¤©åœ¨æ˜Ÿå·´å…‹èŠ±äº†150å…ƒ"
   ç³»çµ±: ğŸ¤– æˆ‘è­˜åˆ¥åˆ°æ‚¨åœ¨æ˜Ÿå·´å…‹æ¶ˆè²»ï¼Œæ ¹æ“šæ‚¨çš„ç¿’æ…£å»ºè­°ä½¿ç”¨ä¿¡ç”¨å¡ä»˜æ¬¾ï¼Œåˆ†é¡ç‚ºé£²é£Ÿã€‚æ˜¯å¦æ­£ç¢ºï¼Ÿ
   å‹•ä½œ: [ç¢ºèª] [ä¿®æ”¹] [æ‰‹å‹•è¼¸å…¥]
   ```

2. **ä¿®æ­£å’Œå­¸ç¿’**
   ```
   ç”¨æˆ¶: "ä»˜æ¬¾æ–¹å¼æ”¹æˆç¾é‡‘"
   ç³»çµ±: ğŸ¤– å·²æ›´æ–°ä»˜æ¬¾æ–¹å¼ç‚ºç¾é‡‘ï¼Œæˆ‘æœƒè¨˜ä½æ‚¨é€™æ¬¡çš„åå¥½ã€‚
   å­¸ç¿’: æ›´æ–°æ˜Ÿå·´å…‹çš„ä»˜æ¬¾åå¥½çµ±è¨ˆ
   ```

3. **å€‹äººåŒ–å»ºè­°**
   ```
   ç³»çµ±: ğŸ’¡ åŸºæ–¼æ‚¨çš„ç¿’æ…£ï¼Œæˆ‘å»ºè­°ï¼š
   - å•†å®¶åç¨±: æ˜Ÿå·´å…‹ (ä¿¡å¿ƒåº¦: 95%)
   - åˆ†é¡: é£²é£Ÿ (ä¿¡å¿ƒåº¦: 90%)  
   - ä»˜æ¬¾æ–¹å¼: ç¾é‡‘ (ä¿¡å¿ƒåº¦: 85%)
   å‹•ä½œ: [æ¡ç”¨å…¨éƒ¨] [éƒ¨åˆ†æ¡ç”¨] [å¿½ç•¥]
   ```

### å­¸ç¿’æ”¹å–„æµç¨‹

1. **ä½¿ç”¨æ¨¡å¼å­¸ç¿’**
   - è¿½è¹¤ç”¨æˆ¶èªéŸ³è¼¸å…¥æ™‚é–“æ¨¡å¼
   - è¨˜éŒ„å¸¸ç”¨è¡¨é”æ–¹å¼å’ŒçŸ­èª
   - åˆ†ææˆåŠŸè§£æç‡è®ŠåŒ–

2. **æº–ç¢ºåº¦æå‡**
   - æ ¹æ“šç”¨æˆ¶ä¿®æ­£è¨˜éŒ„èª¿æ•´ä¿¡å¿ƒåº¦
   - å„ªåŒ–å€‹äººåŒ–é—œéµå­—æ¬Šé‡
   - æ”¹å–„å»ºè­°ç®—æ³•åƒæ•¸

3. **åå¥½é©æ‡‰**
   - å­¸ç¿’æ–°çš„å•†å®¶åˆ¥åè¡¨é”
   - æ›´æ–°åˆ†é¡è§¸ç™¼è©åº«
   - èª¿æ•´ä»˜æ¬¾æ–¹å¼åå¥½

---

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

### å€‹äººåŒ–å­¸ç¿’æ¸¬è©¦

1. **æ–°ç”¨æˆ¶åˆå§‹åŒ–**
   ```
   è¼¸å…¥: "åœ¨éº¥ç•¶å‹èŠ±äº†100å…ƒ"
   é æœŸ: åŸºç¤è§£ææˆåŠŸï¼Œé–‹å§‹å­¸ç¿’ç”¨æˆ¶åå¥½
   å­¸ç¿’: å»ºç«‹éº¥ç•¶å‹å•†å®¶è¨˜éŒ„
   ```

2. **é‡è¤‡æ¨¡å¼å­¸ç¿’**
   ```
   è¼¸å…¥: "æ˜Ÿå·´å…‹ ä¸€æ¯å’–å•¡ 150å…ƒ åˆ·å¡"
   é æœŸ: æé«˜æ˜Ÿå·´å…‹+å’–å•¡+ä¿¡ç”¨å¡çš„é—œè¯åº¦
   å­¸ç¿’: å¢å¼·æ¨¡å¼åŒ¹é…ä¿¡å¿ƒåº¦
   ```

3. **ä¿®æ­£å­¸ç¿’**
   ```
   åŸå§‹: Category="å…¶ä»–æ”¯å‡º"
   ä¿®æ­£: Category="é£²é£Ÿ" 
   å­¸ç¿’: å»ºç«‹è§¸ç™¼è©èˆ‡é£²é£Ÿåˆ†é¡çš„é—œè¯
   ```

### å°è©±å¼äº’å‹•æ¸¬è©¦

1. **ç¼ºå¤±è³‡è¨Šå¼•å°**
   ```
   è¼¸å…¥: "èŠ±äº†éŒ¢"
   å›æ‡‰: "è«‹å‘Šè¨´æˆ‘èŠ±äº†å¤šå°‘éŒ¢ä»¥åŠåœ¨å“ªè£¡æ¶ˆè²»ï¼Ÿ"
   å»ºè­°: ["é‡æ–°èªªæ˜", "æ‰‹å‹•è¼¸å…¥"]
   ```

2. **ä¿®æ­£æ„åœ–è­˜åˆ¥**
   ```
   è¼¸å…¥: "å‰›æ‰çš„é‡‘é¡ä¸å°ï¼Œæ‡‰è©²æ˜¯200å…ƒ"
   è­˜åˆ¥: Intent="Correction", Field="Amount"
   å›æ‡‰: "å·²å°‡é‡‘é¡ä¿®æ­£ç‚º200å…ƒ"
   ```

3. **ç¢ºèªæµç¨‹**
   ```
   è§£æ: å®Œæ•´è¨˜éŒ„è³‡è¨Š
   å›æ‡‰: "è¨˜éŒ„å®Œæˆï¼é‡‘é¡150å…ƒï¼Œæ˜Ÿå·´å…‹ï¼Œé£²é£Ÿï¼Œä¿¡ç”¨å¡ã€‚æ­£ç¢ºå—ï¼Ÿ"
   å»ºè­°: ["ç¢ºèªå„²å­˜", "éœ€è¦ä¿®æ”¹"]
   ```

---

## ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™

### å­¸ç¿’æ•ˆæœæŒ‡æ¨™

1. **è§£ææº–ç¢ºåº¦æå‡**
   - ç›®æ¨™: å€‹äººåŒ–å¾Œæº–ç¢ºåº¦æå‡ > 15%
   - æ¸¬é‡: æ¯”è¼ƒä½¿ç”¨å‰å¾Œçš„ä¿¡å¿ƒåº¦åˆ†ä½ˆ

2. **å»ºè­°æ¡ç”¨ç‡**
   - ç›®æ¨™: å€‹äººåŒ–å»ºè­°æ¡ç”¨ç‡ > 70%
   - æ¸¬é‡: æ¡ç”¨å»ºè­°æ•¸ / ç¸½å»ºè­°æ•¸

3. **ç”¨æˆ¶æ»¿æ„åº¦**
   - ç›®æ¨™: æ¸›å°‘æ‰‹å‹•ä¿®æ­£æ¬¡æ•¸ > 30%
   - æ¸¬é‡: ä¿®æ­£æ¬¡æ•¸çµ±è¨ˆå’Œç”¨æˆ¶å›é¥‹

### ç³»çµ±æ•ˆèƒ½æŒ‡æ¨™

1. **å›æ‡‰æ™‚é–“**
   - ç›®æ¨™: æ™ºèƒ½è§£ææ™‚é–“ < 3ç§’
   - æ¸¬é‡: å¾èªéŸ³è¼¸å…¥åˆ°çµæœé¡¯ç¤ºçš„å®Œæ•´æ™‚é–“

2. **è¨˜æ†¶é«”ä½¿ç”¨**
   - ç›®æ¨™: å€‹äººåŒ–è³‡æ–™ä½”ç”¨ < 1MB/ç”¨æˆ¶
   - æ¸¬é‡: JSON æª”æ¡ˆå¤§å°å’Œè¨˜æ†¶é«”ä½¿ç”¨é‡

3. **å­¸ç¿’æ”¶æ–‚é€Ÿåº¦**
   - ç›®æ¨™: 20æ¬¡ä½¿ç”¨å¾Œé”åˆ°ç©©å®šæº–ç¢ºåº¦
   - æ¸¬é‡: æº–ç¢ºåº¦æ”¹å–„æ›²ç·šæ”¶æ–‚åˆ†æ

---

## ğŸ”® æœªä¾†æ“´å±•æ–¹å‘

### çŸ­æœŸæ”¹å–„ (Phase 3.1)

1. **å¤šèªè¨€æ”¯æ´**
   - æ”¯æ´ç¹é«”ä¸­æ–‡ã€ç°¡é«”ä¸­æ–‡ã€è‹±æ–‡èªéŸ³è¼¸å…¥
   - å¤šèªè¨€å€‹äººåŒ–é—œéµå­—å­¸ç¿’

2. **èªéŸ³æƒ…å¢ƒè­˜åˆ¥**
   - åŸºæ–¼æ™‚é–“ã€åœ°é»çš„æƒ…å¢ƒæ„ŸçŸ¥
   - è‡ªå‹•æ¨è–¦ç›¸é—œçš„è¨˜éŒ„é¡å‹

3. **æ™ºèƒ½æé†’åŠŸèƒ½**
   - åŸºæ–¼æ¶ˆè²»æ¨¡å¼çš„æ™ºèƒ½æé†’
   - é ç®—è¶…æ”¯è­¦å‘Šå’Œå»ºè­°

### ä¸­æœŸæ“´å±• (Phase 4)

1. **æ©Ÿå™¨å­¸ç¿’æ¨¡å‹**
   - å°å…¥ TensorFlow.NET é€²è¡Œæ·±åº¦å­¸ç¿’
   - æ›´æº–ç¢ºçš„èªéŸ³æ„åœ–è­˜åˆ¥

2. **é›²ç«¯åŒæ­¥**
   - è·¨è¨­å‚™çš„å€‹äººåŒ–è¨­å®šåŒæ­¥
   - é›²ç«¯å‚™ä»½å’Œæ¢å¾©åŠŸèƒ½

3. **åœ˜éšŠå”ä½œ**
   - å®¶åº­/åœ˜éšŠå…±äº«çš„æ™ºèƒ½å»ºè­°
   - å¤šç”¨æˆ¶å”ä½œå­¸ç¿’æ©Ÿåˆ¶

### é•·æœŸé¡˜æ™¯ (Phase 5+)

1. **å…¨èªéŸ³æ“ä½œ**
   - å®Œå…¨èªéŸ³é©…å‹•çš„è¨˜å¸³é«”é©—
   - èªéŸ³æŒ‡ä»¤ç³»çµ±æ§åˆ¶

2. **æ™ºèƒ½è²¡å‹™é¡§å•**
   - åŸºæ–¼æ¶ˆè²»æ¨¡å¼çš„è²¡å‹™å»ºè­°
   - æ™ºèƒ½é ç®—è¦åŠƒå’Œå„ªåŒ–

3. **ç”Ÿæ…‹ç³»çµ±æ•´åˆ**
   - èˆ‡éŠ€è¡Œã€æ”¯ä»˜å¹³å°çš„ API æ•´åˆ
   - è‡ªå‹•è¨˜å¸³å’Œæ™ºèƒ½åˆ†é¡

---

## ğŸ“‹ é–‹ç™¼ç¸½çµ

### æˆåŠŸé”æˆçš„ç›®æ¨™

âœ… **å€‹äººåŒ–å­¸ç¿’æ©Ÿåˆ¶** - å»ºç«‹å®Œæ•´çš„ç”¨æˆ¶åå¥½å­¸ç¿’ç³»çµ±  
âœ… **æ™ºèƒ½ä¸Šä¸‹æ–‡ç†è§£** - æ”¯æ´å¤šè¼ªå°è©±å’Œæ„åœ–è­˜åˆ¥  
âœ… **å°è©±å¼èªéŸ³é«”é©—** - æä¾›å‹å–„çš„æ™ºèƒ½åŠ©æ‰‹äº’å‹•  
âœ… **å­¸ç¿’è³‡æ–™æŒä¹…åŒ–** - å¯é çš„ JSON æª”æ¡ˆå„²å­˜æ©Ÿåˆ¶  
âœ… **å»ºè­°ç³»çµ±æ•´åˆ** - å¤šé¡å‹æ™ºèƒ½å»ºè­°å’Œæ¡ç”¨æ©Ÿåˆ¶  

### æŠ€è¡“æˆå°±

1. **æ¶æ§‹è¨­è¨ˆå„ªç•°**
   - æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œæ˜“æ–¼æ“´å±•å’Œç¶­è­·
   - æ¸…æ™°çš„è·è²¬åˆ†é›¢å’Œä¾è³´ç®¡ç†
   - å®Œæ•´çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„

2. **ç”¨æˆ¶é«”é©—å“è¶Š**  
   - ç›´è§€çš„å°è©±å¼äº¤äº’ç•Œé¢
   - æ™ºèƒ½å»ºè­°å’Œå¿«é€Ÿæ¡ç”¨åŠŸèƒ½
   - æ¼¸é€²å¼å­¸ç¿’å’Œæ”¹å–„æ©Ÿåˆ¶

3. **æ•ˆèƒ½è¡¨ç¾è‰¯å¥½**
   - å¿«é€Ÿçš„è§£æå›æ‡‰æ™‚é–“
   - é«˜æ•ˆçš„å€‹äººåŒ–è³‡æ–™ç®¡ç†
   - ç©©å®šçš„å­¸ç¿’æ”¶æ–‚æ•ˆæœ

### å‰µæ–°äº®é»

1. **ä¸‰éšæ®µæ¼¸é€²å¼è¨­è¨ˆ**
   - Phase 1: åŸºç¤è§£æèƒ½åŠ›
   - Phase 2: ä½¿ç”¨è€…é«”é©—å„ªåŒ–  
   - Phase 3: æ™ºèƒ½åŒ–å€‹äººåŒ–å¢å¼·

2. **å°è©±å¼ AI æ•´åˆ**
   - è‡ªç„¶èªè¨€ç†è§£å’Œå›æ‡‰ç”Ÿæˆ
   - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æ™ºèƒ½å»ºè­°
   - å¤šè¼ªå°è©±ç‹€æ…‹ç®¡ç†

3. **å­¸ç¿’æ©Ÿåˆ¶å‰µæ–°**
   - å³æ™‚ç”¨æˆ¶è¡Œç‚ºå­¸ç¿’
   - å¤šç¶­åº¦ä¿¡å¿ƒåº¦è¨ˆç®—
   - å€‹äººåŒ–æ¨¡å¼è‡ªå‹•ç™¼ç¾

---

**é–‹ç™¼å®Œæˆæ™‚é–“**: 2025å¹´1æœˆ23æ—¥  
**æŠ€è¡“å †ç–Š**: ASP.NET Core 8, C#, JavaScript, Bootstrap, JSON  
**é–‹ç™¼æ¨¡å¼**: æ•æ·è¿­ä»£ï¼Œæ¸¬è©¦é©…å‹•é–‹ç™¼  
**ç¨‹å¼ç¢¼å“è³ª**: é«˜å…§èšä½è€¦åˆï¼Œå®Œæ•´è¨»è§£å’ŒéŒ¯èª¤è™•ç†  

Phase 3 æ™ºèƒ½åŒ–å¢å¼·åŠŸèƒ½å·²åœ“æ»¿å®Œæˆï¼Œç‚ºèªéŸ³è¨˜å¸³ç³»çµ±å¸¶ä¾†äº†é©å‘½æ€§çš„ç”¨æˆ¶é«”é©—æå‡ï¼ğŸ‰
